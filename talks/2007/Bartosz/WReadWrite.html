<html>
<head>
	<style type="text/css">
	@import url("wiki.css");
	</style>
</head>
<body>
	<div id="wrap">
	<table>
  <tr>
    <td><a href="Validate.html">Prev</a>   </td>
    <td><a href="WCommit.html">Next</a>   </td>
  </tr>
</table>
<h1> WSTM Read and Write
</h1>
<ul>
  <li> Read
</li>
  <ul>
    <li> Find entry in the current transaction descriptor. Return new value. Done.
</li>
    <li> If not found, read logical state.
</li>
    <li> Add new entry
</li>
    <ul>
      <li> Old: value and version from logical state. New: the same.
</li>
      <li> There might be another entry for the same orec (corresponding to a different address). 
</li>
      <li> If that entry is no longer valid (another transaction modified it), initialize the new value with (version + 1). If this causes version inconsistency, abort.
</li>
    </ul>
  </ul>
  <li> Write
</li>
  <ul>
    <li> First read
</li>
    <li> Set new value to new value and new version to old_version+1.
</li>
  </ul>
</ul>
<table>
  <tr>
    <td><small>14</small>  </td>
  </tr>
</table>

	</div>
</body>
</html>
